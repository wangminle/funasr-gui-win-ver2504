# FunASR GUI 客户端 - 快速开始指南

## 安装依赖

```bash
# 进入项目目录
cd funasr-gui-win-ver2504

# 安装必要的依赖
pip install -r src/python-gui-client/requirements.txt
```

## 启动程序

```bash
# 启动GUI客户端
cd src/python-gui-client
python3 funasr_gui_client_v2.py
```

## 体验转写进度预估功能

### 第一步：连接服务器
1. 在"服务器 IP"栏输入FunASR服务器地址
2. 在"端口"栏输入服务器端口（默认10095）
3. 点击"连接服务器"按钮

### 第二步：进行速度测试（推荐）
1. 点击"速度测试"按钮
2. 等待测试完成，获得上传速度和转写倍速
3. 这些数据将用于后续的智能时长计算

### 第三步：选择音频文件
1. 点击"选择音/视频文件"按钮
2. 选择要转写的音频或视频文件
3. 程序会自动显示文件时长信息

### 第四步：开始转写并观察进度
1. 点击"开始识别"按钮
2. 观察状态栏的进度显示：
   - **上传阶段**：显示"上传中..."
   - **转写阶段**：显示"转写中 X% (剩余: X分X秒)"
   - **完成或超时**：相应状态提示

## 预期效果

### 有测速数据时
- 系统会根据服务器性能智能计算预估时长
- 高性能服务器（30倍速）：3分钟音频预估8秒
- 低性能服务器（3倍速）：3分钟音频预估72秒

### 无测速数据时
- 使用保守估算：3分钟音频预估18秒
- 系统超时设置为36秒

## 测试验证

运行单元测试验证功能：
```bash
python3 test_time_manager.py
```

应该看到所有测试用例通过的输出。

## 故障排除

### 无法获取文件时长
- 确保安装了mutagen库：`pip install mutagen`
- 支持的格式：MP3, WAV, MP4, AVI, MKV等

### 进度显示异常
- 检查服务器连接是否正常
- 确认文件格式被FunASR服务器支持

### 超时时间不合理
- 先进行速度测试获取准确的服务器性能数据
- 检查网络连接质量

这个智能进度预估功能将让您的转写体验更加可预测和用户友好！ 